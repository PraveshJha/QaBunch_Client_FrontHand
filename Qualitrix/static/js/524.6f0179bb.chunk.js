"use strict";(self.webpackChunkqaautomater=self.webpackChunkqaautomater||[]).push([[524],{2524:function(e,t,a){a.r(t),a.d(t,{default:function(){return M}});var n=a(3433),r=a(4165),s=a(5861),o=a(5671),i=a(3144),c=a(136),l=a(7277),u=a(6075),m=a(7313),d=a(106),x=a(6782),f=a(5399),D=a(238),T=a(2527),b=a(4660),h=a(9327),p=a(3516),k=a(2147),C=a(3333),v=a(8390),g=a(6283),Z=v.D.SelectedProject,w=function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,[{key:"testDataPageLoad",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readCommonTestData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveCommonTestData",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,a,n,s,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.D.isDemo){e.next=6;break}return e.next=3,new Promise((function(e){return setTimeout(e,3e3)}));case 3:return e.abrupt("return",!0);case 6:return e.prev=6,t=v.D.backendAPI,e.next=10,v.D.backendServiceAt;case 10:return"remote"===e.sent&&(t=v.D.remoteBackendAPI),a={},e.next=15,k.s.TestDataToAdd;case 15:return a.keyForAddandUpdate=e.sent,e.next=18,k.s.DeletedKey;case 18:return a.keyForDelete=e.sent,e.next=21,v.Q.userToken;case 21:return e.t0=e.sent,e.next=24,v.Q.userEmail;case 24:return e.t1=e.sent,n={Authorization:e.t0,userEmail:e.t1},e.t2=g.Z,e.t3=t+"testdata/project/"+Z+"/testingtype/Web",e.next=30,n;case 30:return e.t4=e.sent,e.next=33,a;case 33:return e.t5=e.sent,e.next=36,e.t2.post.call(e.t2,e.t3,e.t4,e.t5);case 36:return s=e.sent,e.next=39,s.data;case 39:return o=e.sent,e.next=42,o.errorMessage;case 42:return v.D.ErrorMessage=e.sent,e.next=45,o.isFileSaved;case 45:return e.abrupt("return",e.sent);case 48:return e.prev=48,e.t6=e.catch(6),e.next=52,e.t6.message;case 52:v.D.ErrorMessage=e.sent;case 53:case"end":return e.stop()}}),e,null,[[6,48]])})));return function(){return e.apply(this,arguments)}}()},{key:"readCommonTestData",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,a,n,s,o,i,c,l,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.D.isDemo){e.next=4;break}k.s.AllCommonTestData=[{id:1,key:"searchItem",value:"QAautoMATER"}],e.next=70;break;case 4:return t=v.D.backendAPI,e.next=7,v.D.backendServiceAt;case 7:return"remote"===e.sent&&(t=v.D.remoteBackendAPI),e.next=11,v.Q.userToken;case 11:return e.t0=e.sent,e.next=14,v.Q.userEmail;case 14:return e.t1=e.sent,a={Authorization:e.t0,userEmail:e.t1},e.t2=g.Z,e.t3=t+"testdata/project/"+Z+"/testingtype/Web",e.next=20,a;case 20:return e.t4=e.sent,e.next=23,e.t2.get.call(e.t2,e.t3,e.t4);case 23:return n=e.sent,e.next=26,n.data;case 26:if(void 0!==(s=e.sent)){e.next=31;break}k.s.AllCommonTestData=[],e.next=70;break;case 31:return o=[],e.t5=Object,e.next=35,s;case 35:return e.t6=e.sent,e.next=38,e.t5.keys.call(e.t5,e.t6);case 38:i=e.sent,c=0;case 40:return e.t7=c,e.next=43,i.length;case 43:if(e.t8=e.sent,!(e.t7<e.t8)){e.next=67;break}return e.next=47,i[c];case 47:return l=e.sent,e.t9=c+1,e.next=51,l;case 51:return e.t10=e.sent,e.next=54,l;case 54:return e.t11=e.sent,e.next=57,s[e.t11];case 57:return e.t12=e.sent,u={id:e.t9,key:e.t10,value:e.t12},e.t13=o,e.next=62,u;case 62:e.t14=e.sent,e.t13.push.call(e.t13,e.t14);case 64:c++,e.next=40;break;case 67:return e.next=69,o;case 69:k.s.AllCommonTestData=e.sent;case 70:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),y=new w,S=a(3701),j=(a(4100),a(44),a(758)),A=a(6939),P=a.n(A),N=(a(8137),a(207)),R=a(4104),F=a(4118),I=a(6620),E=a(3386),L=a(6417),V=function(e){(0,c.Z)(a,e);var t=(0,l.Z)(a);function a(e){var i;return(0,o.Z)(this,a),(i=t.call(this,e)).notificationSystem=m.createRef(),i.componentWillMount=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),e.next=3,y.testDataPageLoad();case 3:i.setState({allCommonTestData:k.s.AllCommonTestData}),i.setState({selectedRowFromCommonTestDataTable:k.s.SelectedRowFromCommonTestDataTable}),i.setState({isDataValidInCommonTestDataTable:k.s.IsDataValidInCommonTestDataTable});case 6:case"end":return e.stop()}}),e)}))),i.selectRadioButtonFromCommonTestDataTable=function(e,t){t&&(k.s.SelectedRowFromCommonTestDataTable=e.id,i.setState({selectedRowFromCommonTestDataTable:e.id}))},i.addNewData=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a,s,o,c,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.preventDefault();case 2:if(!((a=i.state.allCommonTestData).length>0)){e.next=11;break}if(s=a[a.length-1].key,o=a[a.length-1].value,""!==s.toString().trim()&&""!==o.toString().trim()){e.next=11;break}return i.setState({isDataValidInCommonTestDataTable:!1}),e.next=10,i.getNotification("error","Please add correct details in 'Common Test data' table section");case 10:return e.abrupt("return",e.sent);case 11:i.setState({isDataValidInCommonTestDataTable:!0}),c=a.length+1,l={id:c,key:"",value:""},i.setState({allCommonTestData:[].concat((0,n.Z)(i.state.allCommonTestData),[l])}),k.s.AllCommonTestData.push(l);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.deleteTestData=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a,n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.preventDefault();case 2:if(0!==(a=i.state.allCommonTestData).length){e.next=7;break}return e.next=6,i.getNotification("error","No information is found under 'Common Test Data' table section");case 6:case 35:return e.abrupt("return",e.sent);case 7:if(!(Number(i.state.selectedRowFromCommonTestDataTable)>0&&Number(i.state.selectedRowFromCommonTestDataTable)<=a.length)){e.next=32;break}return e.next=10,i.state.allCommonTestData[Number(i.state.selectedRowFromCommonTestDataTable)-1].key;case 10:if(""===(n=e.sent).toString().trim()){e.next=25;break}return e.t0=k.s.DeletedKey,e.next=15,n;case 15:return e.t1=e.sent,e.next=18,e.t0.includes.call(e.t0,e.t1);case 18:if(e.sent){e.next=25;break}return e.t2=k.s.DeletedKey,e.next=22,n;case 22:return e.t3=e.sent,e.next=25,e.t2.push.call(e.t2,e.t3);case 25:return e.next=27,C.Z.updateRowIdAfterDelete(a,i.state.selectedRowFromCommonTestDataTable);case 27:s=e.sent,i.setState({allCommonTestData:[]},(function(){i.setState({allCommonTestData:s})})),k.s.AllCommonTestData=s,e.next=36;break;case 32:return i.setState({isDataValidInCommonTestDataTable:!1}),e.next=35,i.getNotification("error","No Row is selected in 'Common Test Data' table section");case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.saveCommonTestData=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a,n,s,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.preventDefault();case 2:if(a=i.state.allCommonTestData,!i.state.isDataValidInCommonTestDataTable){e.next=45;break}if(!(a.length>0)){e.next=11;break}if(n=a[a.length-1].key,s=a[a.length-1].value,""!==n.toString().trim()&&""!==s.toString().trim()){e.next=11;break}return e.next=10,i.getNotification("error","Please add correct details in 'Common Test data' table section");case 10:return e.abrupt("return",e.sent);case 11:return e.t1=Object,e.next=14,k.s.TestDataToAdd;case 14:return e.t2=e.sent,e.next=17,e.t1.keys.call(e.t1,e.t2).length;case 17:if(e.t3=e.sent,e.t0=0===e.t3,!e.t0){e.next=24;break}return e.next=22,k.s.DeletedKey.length;case 22:e.t4=e.sent,e.t0=0===e.t4;case 24:if(!e.t0){e.next=28;break}return e.next=27,i.getNotification("error","There is no any test data added or updated.");case 27:return e.abrupt("return",e.sent);case 28:return k.s.AllCommonTestData=a,i.setState({isPageLoading:!0}),e.next=32,y.saveCommonTestData();case 32:if(o=e.sent,i.setState({isPageLoading:!1}),!o){e.next=40;break}return e.next=37,i.getNotification("success","Common test data information is successfully saved.");case 37:return e.abrupt("return",e.sent);case 40:return e.next=42,i.getNotification("error","Unable to save common test data because of "+v.D.ErrorMessage);case 42:return e.abrupt("return",e.sent);case 43:e.next=49;break;case 45:return i.setState({isPageLoading:!1}),e.next=48,i.getNotification("error","Please add the correct information in 'Common Test Data' table");case 48:return e.abrupt("return",e.sent);case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.state={isPageLoading:!1,allCommonTestData:k.s.AllCommonTestData,selectedRowFromCommonTestDataTable:k.s.SelectedRowFromCommonTestDataTable,isDataValidInCommonTestDataTable:k.s.IsDataValidInCommonTestDataTable},i}return(0,i.Z)(a,[{key:"getNotification",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,a){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.notificationSystem.current.addNotification({message:a,level:t,autoDismiss:10});case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={mode:"radio",onSelect:this.selectRadioButtonFromCommonTestDataTable,selected:[this.state.selectedRowFromCommonTestDataTable]};return(0,L.jsxs)(u.Z,{className:"testDataPage",title:"Common Test Data",children:[this.state.isPageLoading&&(0,L.jsx)(N.Z,{sentences:R.b,height:"150%",color:"black"}),(0,L.jsxs)(d.Z,{in:!this.state.isPageLoading,children:[(0,L.jsx)(P(),{ref:this.notificationSystem}),(0,L.jsx)(x.Z,{children:(0,L.jsx)(f.Z,{lg:12,md:12,sm:12,xs:12,children:(0,L.jsxs)(D.Z,{children:[(0,L.jsx)(T.Z,{children:(0,L.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["Add or Update Common Test Data",(0,L.jsxs)(b.Z,{size:"sm",children:[(0,L.jsx)(h.Z,{color:"dark",onClick:this.addNewData.bind(this),children:(0,L.jsx)("small",{children:"Add"})}),(0,L.jsx)(h.Z,{color:"info",onClick:this.saveCommonTestData.bind(this),children:(0,L.jsx)("small",{children:"Save"})}),(0,L.jsx)(h.Z,{color:"dark",onClick:this.deleteTestData.bind(this),children:(0,L.jsx)("small",{children:"Delete"})})]})]})}),(0,L.jsx)(p.Z,{children:(0,L.jsx)(p.Z,{children:(0,L.jsx)(f.Z,{children:(0,L.jsx)(S.Z,{keyField:"id",data:this.state.allCommonTestData,columns:E.ZR,wrapperClasses:"table-responsive",striped:!0,hover:!0,condensed:!0,selectRow:e,cellEdit:(0,j.ZP)({mode:"click",blurToSave:!0,afterSaveCell:function(e,t,a,n){a.key=a.key.toString().trim().toUpperCase();var r=a.key.toString().trim().toUpperCase(),s=a.value.toString().trim();""!==r&&""!==s&&(k.s.TestDataToAdd[r]=s)}}),pagination:(0,I.ZP)(),filter:(0,F.ZP)()})})})})]})})})]})]})}}]),a}(m.Component),M=V},8137:function(){}}]);